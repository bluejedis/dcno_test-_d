<div style="float: left; width: 64%; padding: 1%;">

好的，同学们，我们来到第七章“查找”。这一章是数据结构课程的“应用篇”，也是考研的绝对重点和难点。本章内容繁多，从简单的顺序查找到复杂的B树、散列表，每一种都有其独特的应用场景和考点。我们的目标是：**掌握核心思想，理清算法脉络，熟练手工模拟。**

请跟紧我的思路，我们把这个“查找大家族”的每一个成员都认识清楚。

---

### **第7章 查找**

#### **7.1 查找的基本概念**

* **重要考点**
    * **静态查找** vs **动态查找**。
    * **平均查找长度 (ASL)**：衡量查找算法效率的核心指标。

* **形象记忆法**
    * **查找表**：一本**电话簿**。
    * **静态查找**：这本电话簿印刷好后**不再改动**，你只负责查号码。
    * **动态查找**：这本电话簿是活页的，你随时可能要**新增联系人**或**删除旧联系人**。
    * **ASL**：你**平均**要翻多少页、看多少行才能找到一个人。ASL越小，查找效率越高。

---

#### **7.2 顺序查找和折半查找**

##### **7.2.1 顺序查找**

* **重要考点**
    * 思想简单，从头找到尾。
    * 适用于**无序表**和**链表**。
    * 效率低，ASL成功 = $(n+1)/2$。

##### **7.2.2 折半查找 (二分查找)**

* **重要考点**
    * **前提**：必须是**有序的顺序表** (数组)。
    * 核心思想：不断折半，缩小查找范围。
    * **判定树**的构造和性质（是一棵平衡二叉树）。
    * 效率高，时间复杂度 $O(\log_2 n)$。

* **形象记忆法（猜数字游戏）**
    * **折半查找**：就是“我心里想了一个1到100的数，你来猜”的游戏。
    * **过程**：你不会从1开始一个一个猜，而是先猜中间数 `50`。我告诉你“大了”，你就排除了`50-100`，在 `1-49` 的范围里继续猜中间数 `25`... 这就是折半。

* **计算题解题模板 (求ASL)**
    1.  **画出判定树**：
        * **根结点**：`mid = (1+n)/2`。
        * **左子树**：`1` 到 `mid-1` 的判定树。
        * **右子树**：`mid+1` 到 `n` 的判定树。
        * 递归构造，直到所有元素都成为树的内部结点。
    2.  **计算ASL(成功)**：
        * `ASL = (Σ 每个结点的层数) / n`
        * 或者 `ASL = (Σ 1*第一层结点数 + 2*第二层结点数 + ...) / n`
    3.  **计算ASL(失败)**：
        * 判定树有 `n+1` 个方形的失败结点。
        * `ASL = (Σ 每个失败结点的层数) / (n+1)`

##### **7.2.3 分块查找 (索引顺序查找)**

* **重要考点**
    * 思想：**块间有序，块内无序**。
    * 结构：**索引表 + 数据块**。
    * 查找过程：先查索引（可用折半），再查数据块（只能顺序）。

* **形象记忆法（查字典）**
    * **分块查找**：就是查字典先看**拼音索引**。
    * **索引表**：字典的**拼音目录**（A, B, C...）。
    * **数据块**：每个拼音下的所有汉字。
    * **过程**：你想查“爱(ai)”，先在目录里快速定位到 `A`（查索引表），然后在 `A` 的这一部分里一页一页地找（块内顺序查找）。

---

#### **7.3 树形查找**

##### **7.3.1 二叉排序树 (BST)**

* **重要考点**
    * **定义**：`左子树 < 根 < 右子树`。
    * **中序遍历**结果是一个**递增序列**。
    * **查找、插入、删除**的操作过程。
    * **最坏情况**：退化成单支树，查找效率降为 $O(n)$。

* **形象记忆法（比大小站队）**
    * **BST**：一群人按身高排队，但规则很特别。
    * **规则**：来一个人，先和“队长”（根结点）比身高。
        * **比队长矮**：站到左边队伍去。
        * **比队长高**：站到右边队伍去。
        * 每一支子队伍都遵循同样的规则。

* **解题模板 (删除结点)**
    1.  **叶子结点**：直接删除。
    2.  **只有左/右子树**：让其子树直接顶替它的位置。
    3.  **既有左又有右子树（最复杂）**：
        * **方法**：找到被删结点的**中序前驱**（左子树的最右结点）或**中序后继**（右子树的最左结点）。
        * **操作**：用前驱/后继的值**覆盖**被删结点，然后**删除**那个前驱/后继结点（删除问题转化为情况1或2）。

##### **7.3.2 平衡二叉树 (AVL树)**

* **重要考点**
    * **定义**：它首先是BST，且任意结点的**左右子树高度差绝对值不超过1**。
    * **目的**：防止BST退化，保证查找效率 $O(\log_2 n)$。
    * **平衡调整**：通过**旋转**操作实现，共四种（LL, RR, LR, RL）。

* **形象记忆法（天平）**
    * **AVL树**：一个极其追求平衡的**天平**。
    * **插入/删除**：每在天平一侧放上或取下一个砝码（结点），就要检查天平是否失衡。
    * **旋转**：如果失衡，就要通过移动几个关键砝码的位置（旋转），让天平**重新恢复平衡**。

* **解题模板 (平衡调整)**
    1.  **定位**：从插入点向上回溯，找到**第一个**不平衡的祖先结点 `A`。
    2.  **定型**：根据新结点插入在 `A` 的哪个孙子辈位置，确定旋转类型。
        * `LL`: 左孩子的左子树 -> **右单旋**
        * `RR`: 右孩子的右子树 -> **左单旋**
        * `LR`: 左孩子的右子树 -> **先左后右双旋**
        * `RL`: 右孩子的左子树 -> **先右后左双旋**
    3.  **旋转**：按对应类型画出旋转后的新树形。

##### **7.3.3 红黑树**
* **重要考点**
    * 是一种**近似平衡**的BST。
    * **5条性质**是核心（根黑、叶黑、红不邻、黑高同）。
    * 查找、插入、删除效率稳定在 $O(\log_2 n)$，实际应用比AVL树更广泛。

---

#### **7.4 B树和B+树**

主要用于数据库索引，是为**外存（磁盘）**查找设计的树形结构。

##### **7.4.1 B树 (多路平衡查找树)**

* **重要考点**
    * `m` 阶B树的**定义**和**性质**（关键字数、子树数范围）。
    * **插入**操作：关键字超过上限，结点**分裂**。
    * **删除**操作：关键字低于下限，向兄弟**借**或与兄弟**合并**。

* **形象记忆法（文件夹系统）**
    * **B树**：电脑里的**多级文件夹**。
    * **一个结点**：一个**文件夹**，里面可以放多个**文件（关键字）**和指向下一级**子文件夹（子树指针）**的快捷方式。
    * **查找**：从根目录开始，打开文件夹，根据文件名（关键字）大小比较，决定进入哪个子文件夹，直到找到文件。
    * **插入（分裂）**：一个文件夹里的文件太多了（超过m-1个），就把它从**中间**分成**两个文件夹**，并把中间的那个文件“提拔”到上一级父文件夹里做“索引”。
    * **删除（合并）**：一个文件夹里的文件太少了（少于 $\lceil m/2\rceil-1$ 个），就跟**隔壁兄弟文件夹合并**成一个。

##### **7.4.2 B+树**

* **重要考点**
    * 与B树的**区别**是核心考点。
        * B+树**非叶结点只存关键字**（索引），不存数据。
        * B+树所有**数据都存在叶子结点**。
        * B+树所有**叶子结点形成一个有序链表**。
    * B+树更适合**范围查找**和**顺序遍历**。

---

#### **7.5 散列 (Hash) 表**

* **重要考点**
    * **核心思想**：通过**散列函数**，实现关键字到存储地址的直接映射。
    * **冲突**：两个不同关键字算出了相同地址。
    * **冲突解决方法**：开放定址法（线性探测、平方探测）、拉链法。
    * **ASL的计算**是本节的计算核心。

* **形象记忆法（智能快递柜）**
    * **散列表**：一个**智能快递柜**。
    * **关键字**：你的**手机号**。
    * **散列函数**：快递柜的**中央系统**，输入手机号，直接算出柜门号。
    * **查找**：理想情况是 $O(1)$，输入手机号，柜门秒开。
    * **冲突**：系统算出的柜门号已经**被别人占了**。

* **解题模板 (冲突处理 & ASL计算)**
    * **1. 开放定址法 - 线性探测**
        * **冲突解决**：`H_i = (H(key) + i) % m` (i=1,2,3...)。通俗讲就是：**这个位置被占了？那我看看下一个，再下一个...**
    * **2. 拉链法**
        * **冲突解决**：每个柜门后面不是一个箱子，而是一串**挂钩**（链表）。所有算出这个柜门号的包裹，都挂在这个挂钩上。
    * **ASL 计算**
        1.  **构造散列表**：根据给定的关键字序列、散列函数、冲突解决方法，一步步填表。
        2.  **计算查找成功ASL**：
            * 对**每一个**已存入的关键字，计算找到它需要**比较几次**（探测几次）。
            * `ASL_成功 = (所有成功关键字的比较次数之和) / 关键字总数`
        3.  **计算查找失败ASL**：
            * 对**每一个**可能的散列地址 `0, 1, ..., m-1`，假设要查找一个会散列到该地址但不存在的关键字，计算需要**比较几次**才能确定它失败。
            * `ASL_失败 = (所有失败情况的比较次数之和) / 表长m`
</div>
<div style="float: right; width: 26%; padding: 1%;">

</div>
<div style="clear: both;"></div>
